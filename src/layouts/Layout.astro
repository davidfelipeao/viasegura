---
import '~/assets/styles/tailwind.css';

import { I18N } from 'astrowind:config';

import CommonMeta from '~/components/common/CommonMeta.astro';
import Favicons from '~/components/Favicons.astro';
import CustomStyles from '~/components/CustomStyles.astro';
import ApplyColorMode from '~/components/common/ApplyColorMode.astro';
import Metadata from '~/components/common/Metadata.astro';
import SiteVerification from '~/components/common/SiteVerification.astro';
import Analytics from '~/components/common/Analytics.astro';
import BasicScripts from '~/components/common/BasicScripts.astro';

// Comment the line below to disable View Transitions
import { ClientRouter } from 'astro:transitions';

import type { MetaData as MetaDataType } from '~/types';

export interface Props {
  metadata?: MetaDataType;
}

const { metadata = {} } = Astro.props;
const { language, textDirection } = I18N;
---

<!doctype html>
<html lang={language} dir={textDirection} class="2xl:text-[20px]">
  <head>
    <CommonMeta />
    <Favicons />
    <CustomStyles />
    <ApplyColorMode />
    <Metadata {...metadata} />
    <SiteVerification />
    <Analytics />

    <!-- Comment the line below to disable View Transitions -->
    <ClientRouter fallback="swap" />
  </head>

  <body class="antialiased text-default bg-page tracking-tight">
    <slot />

    <BasicScripts />
<!-- Instagram Flotante -->
    <a href="https://www.instagram.com/v_ia_segura/" target="_blank" rel="noopener noreferrer"
      style="position:fixed; bottom:20px; right:90px; z-index:9999; background:linear-gradient(45deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888); border-radius:50%; width:60px; height:60px; display:flex; align-items:center; justify-content:center; box-shadow: 2px 2px 10px rgba(0,0,0,0.3);">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30" fill="white">
        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.975.975 1.246 2.242 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.975.975-2.242 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.975-.975-1.246-2.242-1.308-3.608C2.175 15.584 2.163 15.204 2.163 12s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.975-.975 2.242-1.246 3.608-1.308C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.014 7.052.072 5.197.157 3.355.673 2.014 2.014.673 3.355.157 5.197.072 7.052.014 8.332 0 8.741 0 12c0 3.259.014 3.668.072 4.948.085 1.855.601 3.697 1.942 5.038 1.341 1.341 3.183 1.857 5.038 1.942C8.332 23.986 8.741 24 12 24s3.668-.014 4.948-.072c1.855-.085 3.697-.601 5.038-1.942 1.341-1.341 1.857-3.183 1.942-5.038.058-1.28.072-1.689.072-4.948s-.014-3.668-.072-4.948c-.085-1.855-.601-3.697-1.942-5.038C20.645.673 18.803.157 16.948.072 15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"/>
      </svg>
    </a>
    <!-- WhatsApp Flotante -->
    <a href="https://wa.me/573225372258" target="_blank" rel="noopener noreferrer"
      style="position:fixed; bottom:20px; right:20px; z-index:9999; background:#25D366; border-radius:50%; width:60px; height:60px; display:flex; align-items:center; justify-content:center; box-shadow: 2px 2px 10px rgba(0,0,0,0.3);">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="35" height="35" fill="white">
        <path d="M16 0C7.164 0 0 7.163 0 16c0 2.822.736 5.469 2.027 7.773L0 32l8.489-2.006A15.93 15.93 0 0 0 16 32c8.837 0 16-7.163 16-16S24.837 0 16 0zm7.844 22.344c-.328.921-1.896 1.76-2.607 1.872-.668.104-1.51.148-2.438-.153-.562-.18-1.284-.42-2.209-.823-3.889-1.676-6.43-5.6-6.625-5.861-.193-.261-1.577-2.098-1.577-4.002s1.002-2.838 1.357-3.226c.355-.389.774-.486 1.032-.486.258 0 .516.002.742.014.238.012.557-.09.872.666.328.779 1.113 2.686 1.211 2.881.099.194.165.422.033.681-.133.26-.199.421-.395.648-.197.228-.414.509-.591.684-.197.194-.402.404-.173.793.229.389 1.018 1.676 2.184 2.715 1.5 1.334 2.767 1.748 3.156 1.946.389.197.615.164.844-.098.229-.262.979-1.143 1.241-1.535.261-.389.522-.325.881-.195.358.129 2.271 1.071 2.661 1.266.389.194.648.291.743.453.097.164.097.951-.231 1.872z"/>
      </svg>
    </a>
  </body>
</html>
