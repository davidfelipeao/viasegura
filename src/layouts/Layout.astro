---
import '~/assets/styles/tailwind.css';

import { I18N } from 'astrowind:config';

import CommonMeta from '~/components/common/CommonMeta.astro';
import Favicons from '~/components/Favicons.astro';
import CustomStyles from '~/components/CustomStyles.astro';
import ApplyColorMode from '~/components/common/ApplyColorMode.astro';
import Metadata from '~/components/common/Metadata.astro';
import SiteVerification from '~/components/common/SiteVerification.astro';
import Analytics from '~/components/common/Analytics.astro';
import BasicScripts from '~/components/common/BasicScripts.astro';

// Comment the line below to disable View Transitions
import { ClientRouter } from 'astro:transitions';

import type { MetaData as MetaDataType } from '~/types';

export interface Props {
  metadata?: MetaDataType;
}

const { metadata = {} } = Astro.props;
const { language, textDirection } = I18N;
---

<!doctype html>
<html lang={language} dir={textDirection} class="2xl:text-[20px]">
  <head>
    <CommonMeta />
    <Favicons />
    <CustomStyles />
    <ApplyColorMode />
    <Metadata {...metadata} />
    <SiteVerification />
    <Analytics />

    <!-- Comment the line below to disable View Transitions -->
    <ClientRouter fallback="swap" />
  </head>

  <body class="antialiased text-default bg-page tracking-tight">
    <slot />

    <BasicScripts />

    <!-- WhatsApp Flotante -->
    <a href="https://wa.me/573225372258" target="_blank" rel="noopener noreferrer"
      style="position:fixed; bottom:20px; right:20px; z-index:9999; background:#25D366; border-radius:50%; width:60px; height:60px; display:flex; align-items:center; justify-content:center; box-shadow: 2px 2px 10px rgba(0,0,0,0.3);">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="35" height="35" fill="white">
        <path d="M16 0C7.164 0 0 7.163 0 16c0 2.822.736 5.469 2.027 7.773L0 32l8.489-2.006A15.93 15.93 0 0 0 16 32c8.837 0 16-7.163 16-16S24.837 0 16 0zm7.844 22.344c-.328.921-1.896 1.76-2.607 1.872-.668.104-1.51.148-2.438-.153-.562-.18-1.284-.42-2.209-.823-3.889-1.676-6.43-5.6-6.625-5.861-.193-.261-1.577-2.098-1.577-4.002s1.002-2.838 1.357-3.226c.355-.389.774-.486 1.032-.486.258 0 .516.002.742.014.238.012.557-.09.872.666.328.779 1.113 2.686 1.211 2.881.099.194.165.422.033.681-.133.26-.199.421-.395.648-.197.228-.414.509-.591.684-.197.194-.402.404-.173.793.229.389 1.018 1.676 2.184 2.715 1.5 1.334 2.767 1.748 3.156 1.946.389.197.615.164.844-.098.229-.262.979-1.143 1.241-1.535.261-.389.522-.325.881-.195.358.129 2.271 1.071 2.661 1.266.389.194.648.291.743.453.097.164.097.951-.231 1.872z"/>
      </svg>
    </a>
  </body>
</html>
